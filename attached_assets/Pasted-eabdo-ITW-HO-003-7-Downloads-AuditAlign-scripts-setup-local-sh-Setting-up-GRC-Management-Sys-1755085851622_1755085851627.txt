eabdo@ITW-HO-003-7:~/Downloads/AuditAlign$ ./scripts/setup-local.sh
üöÄ Setting up GRC Management System for local development...
üóÑÔ∏è  Setting up database...
NOTICE:  database "grc_management" does not exist, skipping
DROP DATABASE
NOTICE:  role "grc_user" does not exist, skipping
DROP ROLE
CREATE ROLE
CREATE DATABASE
You are now connected to database "grc_management" as user "postgres".
GRANT
GRANT
GRANT
ALTER DEFAULT PRIVILEGES
ALTER DEFAULT PRIVILEGES
ALTER DEFAULT PRIVILEGES
ALTER SCHEMA
üì¶ Installing dependencies...

up to date, audited 501 packages in 3s

68 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (3 low, 8 moderate)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
‚ö†Ô∏è  .env file already exists, skipping creation
üîÑ Pushing database schema...

> rest-express@1.0.0 db:push
> drizzle-kit push

No config path provided, using default 'drizzle.config.ts'
Reading config file '/home/eabdo/Downloads/AuditAlign/drizzle.config.ts'
Using 'pg' driver for database querying
[‚úì] Pulling schema from database...
[‚úì] Changes applied
üå± Seeding initial data...

> rest-express@1.0.0 db:seed
> tsx scripts/seed-data.ts

[dotenv@17.2.1] injecting env (4) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
üå± Seeding cybersecurity frameworks...
‚ùå Error seeding database: ErrorEvent {
  [Symbol(kTarget)]: WebSocket {
    _events: [Object: null prototype] {
      error: [Function],
      message: [Function],
      close: [Function],
      open: [Function]
    },
    _eventsCount: 4,
    _maxListeners: undefined,
    _binaryType: 'arraybuffer',
    _closeCode: 1006,
    _closeFrameReceived: false,
    _closeFrameSent: false,
    _closeMessage: <Buffer >,
    _closeTimer: null,
    _errorEmitted: true,
    _extensions: {},
    _paused: false,
    _protocol: '',
    _readyState: 3,
    _receiver: null,
    _sender: null,
    _socket: null,
    _bufferedAmount: 0,
    _isServer: false,
    _redirects: 0,
    _autoPong: true,
    _url: 'wss://localhost/v2',
    _req: null,
    [Symbol(shapeMode)]: false,
    [Symbol(kCapture)]: false
  },
  [Symbol(kType)]: 'error',
  [Symbol(kError)]: Error: self-signed certificate
      at TLSSocket.onConnectSecure (node:_tls_wrap:1677:34)
      at TLSSocket.emit (node:events:518:28)
      at TLSSocket._finishInit (node:_tls_wrap:1076:8)
      at ssl.onhandshakedone (node:_tls_wrap:862:12) {
    code: 'DEPTH_ZERO_SELF_SIGNED_CERT'
  },
  [Symbol(kMessage)]: 'self-signed certificate'
}

üéâ Setup complete! To start the application:
   npm run dev

The application will be available at: http://localhost:5000

üìù Database credentials:
   Host: localhost
   Port: 5432
   Database: grc_management
   Username: grc_user
   Password: grc_password
eabdo@ITW-HO-003-7:~/Downloads/AuditAlign$ npm run dev

> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

[dotenv@17.2.1] injecting env (3) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
/home/eabdo/Downloads/AuditAlign/server/replitAuth.ts:12
  throw new Error("Environment variable REPLIT_DOMAINS not provided");
        ^


Error: Environment variable REPLIT_DOMAINS not provided
    at <anonymous> (/home/eabdo/Downloads/AuditAlign/server/replitAuth.ts:12:9)
    at ModuleJob.run (node:internal/modules/esm/module_job:234:25)
    at async ModuleLoader.import (node:internal/modules/esm/loader:473:24)
    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:122:5)

Node.js v20.18.1
